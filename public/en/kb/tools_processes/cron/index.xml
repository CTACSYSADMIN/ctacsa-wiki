<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Cron on Documentation for Hugo Learn Theme</title>
    <link>//localhost:1313/en/kb/tools_processes/cron/</link>
    <description>Recent content in Cron on Documentation for Hugo Learn Theme</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Sat, 05 Feb 2022 10:31:29 -0500</lastBuildDate>
    <atom:link href="//localhost:1313/en/kb/tools_processes/cron/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>cron daemon package has conffile prompt and needs to be upgraded manually</title>
      <link>//localhost:1313/en/kb/tools_processes/cron/cron-daemon-package-has-conffile-prompt-and-needs-to-be-upgraded-manually/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/cron/cron-daemon-package-has-conffile-prompt-and-needs-to-be-upgraded-manually/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: Sensu&#xA;&#xA;Revision History:&#xA;    2017-01-03 09:38:00 - Version 1 created by Bao Nguyen&#xA;&#xA;&#xA;Details: (include steps to reproduce, symptoms, corrective actions, contact information, links and a any other helpful information)&#xA;&#xA;Description:&#xA;- Receiving a plethora of emails about packages with conffile prompt&#xA;&#xA;&#xA;&#xA;&#xA;If you get an email with something along the lines of the following:&#xA;‘’’&#xA;/etc/cron.daily/apt:&#xA;Package &amp;#39;sudo&amp;#39; has conffile prompt and needs to be upgraded manually&#xA;‘’’&#xA;&#xA;…it’s likely that the unattended upgrade for that package has failed on that server. You will need to update it manually.&#xA;&#xA;The process is 2 fold:&#xA;- Determine the hostname&#xA;- Update the package&#xA;&#xA;&#xA;Determine the hostname&#xA;- open the email&#xA;- use this set of keystrokes: CMD + SHIFT + h. This will expand the headers. Look at the last line of the headers. This should provide the FQDN of the server. Example:&#xA;Message-Id: &amp;lt;201701030653.v036rVNq010354@hhs-confluence-01.stg.hhs.local&amp;gt;&#xA;&#xA;Update the package&#xA;- ssh into the server in the previous section and switch to root&#xA;- Using the aforementioned snippet above (the package ‘sudo’… line), do an apt-get install sudo&#xA;- Answer the prompt. You can most likely hit &amp;lt;ENTER&amp;gt;&#xA;- Confirm that you do not receive a similar email message the next day for this.&#xA;&#xA;&#xA;Misc Notes:&#xA;- csshx is a helpful tool (Thanks to Paul for suggesting it). &#xA;&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>cron permission denied syslog</title>
      <link>//localhost:1313/en/kb/tools_processes/cron/cron-permission-denied-syslog/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/cron/cron-permission-denied-syslog/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: CRON[XXXXX]: Permission denied Errors in Syslog&#xA;&#xA;Revision History:&#xA;    2015-08-11 07:33:06 - Version 1 created by Paul Rigor&#xA;&#xA;Details: (include steps to reproduce, symptoms, corrective actions, contact information, links and a any other helpful information)&#xA;&#xA; If you see the error similar to CRON[XXXXX]: Permission denied in /var/log/syslog this may be because the user running the command is being blocked by PAM.   Here are the steps to identify and fix the issue:&#xA;&#xA; 1) Identify the user/cron that is causing the issue.  Find the pattern. (e.g. every 20 minutes)&#xA; 2) Look in /var/spool/cron/ and see what users have crontabs.&#xA;     - as root: sudo su - &amp;lt;username&amp;gt;&#xA;     - if that fails with Permission denied.. proceed to &amp;#34;How to fix&amp;#34;&#xA; 3) Look in /etc/cron.d/*&#xA;     - examine all the files in there.  See if any have crontab entries that match the pattern.  (e.g. sendmail with:&#xA;     */20 *    *    *    *           smmsp   test -x /etc/init.d/sendmail &amp;amp;&amp;amp; /usr/share/sendmail/sendmail cron-msp&#xA;      )&#xA;     - as root:  sudo su - &amp;lt;username&amp;gt;  (in the above case it is smmsp)&#xA;     - if that fails with Permission denied.. proceed to &amp;#34;How to fix&amp;#34;&#xA;&#xA; How To Fix:&#xA;  The user is not authorized/blocked by PAM.  You will most likely need to add the user to PAM&amp;#39;s access.conf.  HINT this is most likely in the profile_pam (modern) or the pam (legacy) module in Puppet.  If the user is a local account.. be sure to add them as &amp;lt;username:LOCAL&amp;gt;  &#xA;&#xA;  Example:&#xA;    -:ALL EXCEPT root admins admin smmsp:LOCAL &amp;lt;%= groups %&amp;gt; (ssh-users):ALL&#xA;&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>package has conffile prompt</title>
      <link>//localhost:1313/en/kb/tools_processes/cron/package-has-conffile-prompt/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/cron/package-has-conffile-prompt/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: Package &amp;#39;base-files&amp;#39; has conffile prompt and needs to be upgraded manually&#xA;&#xA;Revision History:&#xA;    2019-03-11 23:27:00 - Version 1 created by Bao Nguyen&#xA;&#xA;Details: (include steps to reproduce, symptoms, corrective actions, contact information, links and a any other helpful information)&#xA;&#xA;If you get emails similar to the following:&#xA;/etc/cron.daily/apt:&#xA;Package &amp;#39;base-files&amp;#39; has conffile prompt and needs to be upgraded manually&#xA;&#xA;Then run this command and you should be all set:&#xA;apt-get upgrade base-files -y&#xA;then accept the default option (or accept another option if it makes sense to do so)&#xA;&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
  </channel>
</rss>
