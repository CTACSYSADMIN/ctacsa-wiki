<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Docker on Documentation for Hugo Learn Theme</title>
    <link>//localhost:1313/en/kb/tools_processes/docker/</link>
    <description>Recent content in Docker on Documentation for Hugo Learn Theme</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Sat, 05 Feb 2022 10:31:29 -0500</lastBuildDate>
    <atom:link href="//localhost:1313/en/kb/tools_processes/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>docker backup restore mysql dbs</title>
      <link>//localhost:1313/en/kb/tools_processes/docker/docker-backup-restore-mysql-dbs/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/docker/docker-backup-restore-mysql-dbs/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: Backing up and restoring a containerized / dockerized mysql DB&#xA;&#xA;Revision History:&#xA;    2017-02-03 12:02:03 - Version 1 created by Jeannette Rigor&#xA;&#xA;Details: (include steps to reproduct, symptoms, corrective actions, contact information, links and a any other helpful information)&#xA;----&#xA;Mysql DBs contain persistant data and therefore, if dockerized, the container should have a volume mapped to the host.&#xA;&#xA;In NOC: the following appas are set up with dockerized mysql containers:&#xA; - CTACORP.com&#xA; - Asset Tracker app&#xA; - Darmis&#xA;&#xA;These apps run a script (ctac-doacker-mysql-backup.sh) located in, /usr/local/bin/ , that backup the DBs daily via cron and copy the backups to S3 (app_noc_268651028).&#xA;&#xA;-----&#xA;MANUAL BACKUP and RESTORE of dockerized mysql&#xA;&#xA;TO backup a containerized mysql DB:&#xA;  &amp;gt; docker exec CONTAINER-NAME /usr/bin/mysqldump -u root --password=root DATABASE-NAME | gzip &amp;gt; backup.sql.gz&#xA;&#xA;To RESTORE a backup to a containerized mysql db:&#xA;  &amp;gt; zcat backup.sql.gz | docker exec -i CONTAINER-NAME /usr/bin/mysql -u root --password=root DATABASE-NAME&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>docker cannot remove stopped container</title>
      <link>//localhost:1313/en/kb/tools_processes/docker/docker-cannot-remove-stopped-container/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/docker/docker-cannot-remove-stopped-container/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: Docker container is stuck in &amp;#34;Removal In Progress&amp;#34; state&#xA;&#xA;Revision History:&#xA;    2018-01-12 11:36:16 - Version 1 created by Jeannette Rigor&#xA;&#xA;Details:&#xA;&#xA;Issue: You cannot remove a stopped container, you get the following errors:-&#xA;&#xA;1 - Error response from daemon: driver &amp;#34;aufs&amp;#34; failed to remove root filesystem for 05e43d3f74d066a45b1c97789c4579d9db5e13437142294d61fbb87441b985da: could not remove diff path for id dc11a6f4f85c45b91c29256445ee73c2ed1bda109198544aaa7d098109402fed: error preparing atomic delete: rename /appdata/docker/aufs/diff/dc11a6f4f85c45b91c29256445ee73c2ed1bda109198544aaa7d098109402fed /appdata/docker/aufs/diff/dc11a6f4f85c45b91c29256445ee73c2ed1bda109198544aaa7d098109402fed-removing: device or resource busy&#xA;&#xA;2 - or docker container is stuck in &amp;#39;Removal In Progress&amp;#39; status (&amp;gt; docker ps -a)&#xA;&#xA;&#xA;Solution:&#xA;&#xA;1 - Restart docker service to get the containers into a &amp;#39;Dead&amp;#39; status, check status, docker ps -a&#xA;2 - run &amp;#39;docker system prune&amp;#39; to remove unused docker resources, if this does not remove anything reboot the instances&#xA;3 - When the instance is back up, try running &amp;#39;docker system prune&amp;#39; again, this will remove the containers&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>docker container resource stats</title>
      <link>//localhost:1313/en/kb/tools_processes/docker/docker-container-resource-stats/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/docker/docker-container-resource-stats/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: Docker monitoring&#xA;&#xA;Revision History:&#xA;    2016-08-02 09:38:19 - Version 1 created by Jeannette Rigor&#xA;&#xA;Details: (include steps to reproduct, symptoms, corrective actions, contact information, links and a any other helpful information)&#xA;&#xA;Some tips for monitoring docker containers:&#xA;&#xA;How to tell if applications are writing to a container causing the container to grow ?&#xA;  Running docker containers have a virtual size that is equal to the image size. If the applications write to the container the Size, and virtual size of the running container grow larger than the original image size.&#xA;  Get original size of image:&#xA;   ---&amp;gt; docker images&#xA;  Get size of running container:&#xA;   --&amp;gt; docker ps -s&#xA;  Image size and virtual container size will equal if container has static data.&#xA;&#xA;  Also, see script in /sysadmin_tools/docker/container_growth_stats.sh repo&#xA;&#xA;View Get docker stats listing container names&#xA;  &amp;gt; docker stats $(docker ps --format={{.Names}})&#xA;&#xA;View docker stats for specific container(s)&#xA;  &amp;gt; docker stats [container-name, container-name]&#xA;&#xA;Viewing image layers&#xA;  &amp;gt; docker history [imageID]&#xA;&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>docker gsa voc mongodb wont stay running repair</title>
      <link>//localhost:1313/en/kb/tools_processes/docker/docker-gsa-voc-mongodb-wont-stay-running-repair/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/docker/docker-gsa-voc-mongodb-wont-stay-running-repair/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: GSA VOC (survey) MongoDB container won&amp;#39;t start.&#xA;&#xA;Revision History:&#xA;    2016-11-16 09:29:55 - Version 1 created by Paul Rigor&#xA;&#xA;Details: (include steps to reproduce, symptoms, corrective actions, contact information, links and a any other helpful information)&#xA;&#xA; Enter Details&#xA;&#xA;If after a restart of the VOC mongo task in ECS (Docker), the Mongo container will not start and you observe something similar in the splunk logs:&#xA;&#xA;2016-11-16T03:53:39.864+0000 I - [initandlisten] Invariant failure: ret resulted in status UnknownError: -31802: WT_ERROR: non-specific WiredTiger error at src/mongo/db/storage/wiredtiger/wiredtiger_session_cache.cpp 74&#xA;&#xA;Follows these steps to correct:&#xA;&#xA;* Update the service [voc_mongo_{env}] in the gsa-{env}-east cluster to Number of tasks 0&#xA;* Create a new revision of the voc_mongo_{env} task definition and add the following to the voc_mongo_{env} container definition:&#xA;  - Command: mongod,--repair&#xA;* Save the revision and note the revision number.&#xA;* Update the service [voc_mongo_{env}] in the gsa-{env}-east cluster and set Task Definition to voc_mongo_{env}: revision number noted in previous step.  Note the current revision number.&#xA;* Update the service [voc_mongo_{env}] in the gsa-{env}-east cluster to Number of tasks 1&#xA;* Wait for the service to deploy and stop&#xA;* Update the service [voc_mongo_{env}] in the gsa-{env}-east cluster to Number of tasks 0&#xA;* Update the service [voc_mongo_{env}] in the gsa-{env}-east cluster and set Task Definition to voc_mongo_{env}: original revision number.&#xA;* Update the service [voc_mongo_{env}] in the gsa-{env}-east cluster to Number of tasks 1&#xA;* Examine the logs (splunk) for expected logs and observe the ECS service remains running.&#xA;* IMPORTANT!!!! Deregister the new revision (containing the --repair cmd) of the voc_mongo_{env} task definition.&#xA;&#xA;Note:  If mongo does not repair and stay running then more drastic measures may be required.&#xA;&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>docker mac no space left on device</title>
      <link>//localhost:1313/en/kb/tools_processes/docker/docker-mac-no-space-left-on-device/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/docker/docker-mac-no-space-left-on-device/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: Docker for Mac - No space left on device error&#xA;&#xA;Revision History:&#xA;    2016-12-08 08:54:59 - Version 1 created by Jeannette Rigor&#xA;&#xA;Details: (include steps to reproduct, symptoms, corrective actions, contact information, links and a any other helpful information)&#xA;&#xA; Enter Details&#xA;&#xA;If you get the following error while working with Docker on a Mac:&#xA;&#xA;No space left on device error&#xA;&#xA;Solution:&#xA;Clean up docker images, containers etc&#xA;&amp;gt; docker system prune -a&#xA;&#xA;Clean up volumes&#xA;&amp;gt; docker volume ls -q -f &amp;#39;dangling=true&amp;#39; | xargs docker volume rm&#xA;&#xA;Restart docker&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>docker machine virtualbox will not start</title>
      <link>//localhost:1313/en/kb/tools_processes/docker/docker-machine-virtualbox-will-not-start/</link>
      <pubDate>Sat, 05 Feb 2022 10:31:29 -0500</pubDate>
      <guid>//localhost:1313/en/kb/tools_processes/docker/docker-machine-virtualbox-will-not-start/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Knowledge Base Article - CTAC (Communications Training Analysis Corporation)  &#xA;=================================================&#xA;&#xA;Subject: Docker Machine / Virtualbox will not start&#xA;&#xA;Revision History:&#xA;    2015-12-15 - Version 1 created by Jeannette Rigor&#xA;&#xA;&#xA;Details: (include steps to reproduce, symptoms, corrective actions, contact information, links and a any other helpful information)&#xA;&#xA;When starting the Docker Machine you may encounter the following error:&#xA;&#xA;&amp;#34;Error creating machine: Error in driver during machine creation: VirtualBox is configured with multiple host-only interfaces with the same IP. Please remove all of them but one.&amp;#34;&#xA;&#xA;This is a problem with Virtualbox running multiple host-only interfaces.&#xA;&#xA;Go to your commanline and get the the infor for your host-only interfaces:&#xA;&amp;gt; VBoxManage list hostonlyifs&#xA;&#xA;By default, docker runs its machine on &amp;#39;192.168.99.1&amp;#39;&#xA;&#xA;If you see any virtualbox interfaces the local docker IP address, ex:&#xA;------&#xA;Name:            vboxnet4&#xA;GUID:            786f6276-656e-4474-8000-0a0027000004&#xA;DHCP:            Disabled&#xA;IPAddress:       192.168.99.1&#xA;NetworkMask:     255.255.255.0&#xA;IPV6Address:&#xA;IPV6NetworkMaskPrefixLength: 0&#xA;HardwareAddress: 0a:00:27:00:00:04&#xA;MediumType:      Ethernet&#xA;Status:          Down&#xA;VBoxNetworkName: HostInterfaceNetworking-vboxnet4&#xA;------&#xA;&#xA;Remove them:&#xA;&amp;gt; VBoxManage hostonlyif remove vboxnet4&#xA;&#xA;Now you can start, or create a Docker Machine&#xA;&#xA;=================================================&#xA;This document is proprietary and confidential. No part of this document may be &#xA;disclosed in any manner to a third party without the prior written consent of &#xA;CTAC.```&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
  </channel>
</rss>
